# Автоналаштування PID: Посібник для початківців
## Як керувати чим завгодно (без аварій)

---

## **Проблема: Дилема Золотоволоски**

Уявіть, що ви ведете машину і хочете тримати рівно **60 миль/год**.

- **Занадто повільно?** Тиснете газ.
- **Занадто швидко?** Відпускаєте (або гальмуєте).

Але це ніколи не буває так просто:
1.  **Якщо тиснете засильно:** Вилітаєте на 80 миль/год (Перерегулювання) ✗
2.  **Якщо тиснете заслабко:** Розгін займає 5 хвилин (Млявість) ✗
3.  **Якщо панікуєте:** Ви коливаєтесь між 50 і 70 миль/год (Нестабільність) ✗

**Виклик:** Як досягти 60 миль/год ШВИДКО, без перевищення, і триматися плавно?
**Рішення:** PID-регулятор.

---

## **Що таке PID? (Математика можлива)**

PID означає **Пропорційно-Інтегрально-Диференціальний**. Це три друзі, які сперечаються, як вести машину.

### **P - Пропорційний (Теперішнє)**
> *"Ми далеко! Їдь швидше!"*

- **Логіка:** `Вихід = Kp * Помилка`
- Чим більша помилка, тим сильніше тисне.
- **Проблема:** Коли ви наближаєтесь, помилка зменшується, тому він перестає тиснути *до* прибуття. Він лінивий. Залишає "Статичну помилку".

### **I - Інтегральний (Минуле)**
> *"Ми їдемо повільно занадто довго! Тисни сильніше!"*

- **Логіка:** `Вихід = Ki * Сума(Помилки)`
- Дивиться на *історію* помилки. Якщо ви їхали 59 миль/год хвилину, "I" дратується і тисне газ все сильніше, поки не досягнете 60.
- **Проблема:** Створює інерцію. Тисне так сильно, що коли ви досягаєте 60, ви все ще прискорюєтесь і пролітаєте до 65.

### **D - Диференціальний (Майбутнє)**
> *"Воу, наближаємось занадто швидко! Гальмуй!"*

- **Логіка:** `Вихід = Kd * Швидкість зміни`
- Дивиться на *швидкість* корекції. Якщо спідометр злітає, "D" тисне гальма, щоб запобігти перерегулюванню.
- **Проблема:** Він нервовий. Якщо датчик шумить, "D" божеволіє.

---

## **Магія Автоналаштування**

Налаштування PID-регулятора (пошук чисел для P, I та D) - це мистецтво.
**Автоналаштування** - це робот-митець.

### **Як працює Ziegler-Nichols (Релейний метод):**
1.  **Вимкніть PID.**
2.  **Запустіть Реле:**
    - Якщо швидкість < 60, ПОВНИЙ ГАЗ.
    - Якщо швидкість > 60, ПОВНЕ ГАЛЬМО.
3.  **Спостерігайте Коливання:** Оскільки повний газ/гальмо - це екстремуми, машина буде коливатися навколо 60 миль/год.
4.  **Виміряйте Коливання:**
    - **\( T_u \)** (Критичний період): Час між піками.
    - **\( K_u \)** (Критичне посилення): Наскільки сильне коливання.
5.  **Розрахуйте PID:** На основі \( T_u \) та \( K_u \) алгоритм підставляє відомі "ідеальні пропорції", щоб дати вам стабільний регулятор.

---

## **Як користуватися симулятором**

### **Крок 1: Налаштуйте авто (Процес)**
- **Посилення (K):** Наскільки потужний двигун? (Високе K = Спорткар, Низьке K = Вантажівка)
- **Постійна часу (Tau):** Наскільки важка машина? (Високе Tau = Важка/Повільна реакція)
- **Мертвий час (Theta):** Затримка між педаллю і двигуном? (Затримка "О ні")

### **Крок 2: Оберіть стратегію**
- **Ziegler-Nichols:** Класика. Швидко, але може трохи перерегулювати.
- **Cohen-Coon:** Краще, якщо у машини велика турбояма (великий мертвий час).

### **Крок 3: Авто-Тюн і Їзда**
- Натисніть **"Auto-Tune & Simulate"**.
- Спочатку дивіться **Релейний Тест** (коливання).
- Дивіться, як **PID Контроль** переймає естафету.

### **На що дивитися (Метрики)**
- **Перерегулювання (Overshoot) %:** Чи перетнули ми 60 миль/год? (Мета: < 10%)
- **Час встановлення (Settling Time):** Як швидко стабілізувалися? (Мета: Якнайшвидше)
- **Час наростання (Rise Time):** Як швидко стартували?

---

## **Ключові моменти для інтерв'ю**

| Поняття | Пояснення |
|---|---|
| **P-Член** | Тисне на основі поточної відстані. Добре, але залишає прогалини. |
| **I-Член** | Тисне на основі часової затримки. Виправляє прогалину/зсув. |
| **D-Член** | Гальмує на основі швидкості. Запобігає аварії/перерегулюванню. |
| **Релейне Налаштування** | Виклик коливань для вимірювання природних частотних меж системи. |
| **Мертвий час** | Найгірший ворог керування. Часова затримка перед тим, як щось станеться. |

> **Аналогія:** P - це кермо, I - корекція газу на пагорби, D - гальма на поворотах.

---

## **Спробуйте цей виклик**
1.  Встановіть **Мертвий час** на **2.0s** (Величезний лаг).
2.  Спробуйте **Ziegler-Nichols**. Коливається?
3.  Спробуйте **Cohen-Coon**. Чи краще? (Підказка: Має бути).
